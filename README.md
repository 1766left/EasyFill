# EasyFill  
这是一个能让你和 GPT 的对话变得无比流畅的小工具。  

![logo](imgs/logo.jpg)

将 [Easy Fill 油猴脚本](./easyfill_tampermonkey_script.js) 添加到 Tampermonkey 插件后，在 chat.openai.com 页面开启并使用。

鼠标选中文字，或者双击左键，鼠标位置会出现菜单栏。
点击菜单栏中功能项，就会把你选中的内容填入对应模版的 {\_\_PLACE_HOLDER\_\_} 位置并发送。
如果想要编辑后再发送，可以点击右侧的铅笔图标。  

![按钮](imgs/menu.jpg)

点击按钮后所选文字就会被自动填充进预置 prompt 并发送。  

![结果](imgs/result.jpg)

最后一个“设置”可用于修改菜单项。  
目前预置了英语学习功能组。    
欢迎大家补充新的功能组到 tool_templates 下。  
如果你想添加新的功能，只需要把功能组模版粘贴到设置页面里。    

![设置页面](imgs/edit_settings.jpg)

这个工具的便捷之处，在于你可以方便地选取前面讨论的部分内容，并添加详细指导的 prompt，省去了很多来回 copy&paste 的工作。  
可以参考这个[使用示范](https://chat.openai.com/share/56c0665b-7265-47ac-b40a-774bf3fc557e) 理解工具的用途。请注意那些看着就很麻烦的 prompt 都是自动填充模版生成的。

## 功能组文件格式说明：

* 第一行是功能组名称，紧跟着它可以是一些使用说明
* 用 🪄🪄🪄🪄🪄🪄🪄🪄 分隔各个功能组按钮（之所以选择这么奇葩的方式，是为了在一个文件里能够方便写多个 prompt。prompt 啥格式都有，用常规的 json yaml 之类的，写转义字符会写到怀疑人生）
* 🪄🪄🪄🪄🪄🪄🪄🪄 分隔符之后的第一行是按钮名称，然后跟着的就是 prompt 具体内容。
* prompt 中的 {\_\_PLACE_HOLDER\_\_} 会被鼠标选中的页面文字替代掉。

正则匹配的高级功能：  
* 📖📖📖📖📖📖📖📖 分隔符用于将 GPT 输出的内容转化成可以直接点击的项。📖 一定要在 🪄 之后。
* 📖📖📖📖📖📖📖📖 之后的第一行是用于匹配文本的正则表达式，然后跟着的就是 prompt 的具体内容。
* 同样，prompt 中的 {\_\_PLACE_HOLDER\_\_} 会被鼠标选中的页面文字替代掉。通过 📖 方式定义的内容会被直接发送，没有编辑选项。

## 联系作者

特别欢迎使用插件的伙伴们和我分享你是怎么用的。工具只是便捷操作的一小步，组合了 prompt 设计好的工作流，才是发挥 AI 功力的最重要因素。
我有个公众号：南瓜博士，欢迎关注。可以直接在公众号留言，我都会看并回复的。公众号内发送 easyfill 可以加入本工具的讨论群。  
![南瓜博士](imgs/qrcode.jpeg)  


## 致谢

本插件特别感谢豆爸开发的 [关联学习工具](https://waytoagi.feishu.cn/wiki/XMgawFyCVimUSTkeJvHckF9inLc) 给到的启发。  
我最初做的版本，是把按钮放在页面下方一长排，改成菜单交互的代码是由豆爸贡献的，菜单和对话框的样式是豆爸做的，📖 直接点击发送的功能也来自于关联学习工具的需求。  

还要特别感谢 GPT 和 Github Copilot，作为一名完全搞不懂 css 的前端渣，90% 的代码都是它们写的，我只负责提问题和搬运。（当然，错误也是它们犯的，有不好看的代码找它们吐槽去。）    

## 特别说明  
目前我只在电脑上 Chrome 浏览器的油猴插件里测试过，别的环境我不了解，可能暂时还支持不了。
脚本本身不需要特别权限，我特意避开了需要跨域等特殊权限的功能，理论上安装后应该能正常运行。

如果电脑上的 Chrome 安装后仍旧看不到效果：  
1. 确认脚本已启用：在 https://chat.openai.com/ 的网页上你应该能看到这个脚本可用，确保它是开启的。  
![T1](imgs/troubleshooting1.png)

2. 强制刷新页面（Ctrl/Cmd + Shift + R）

3. 如果还是看不到效果，有可能是你之前粘贴脚本的时候不小心敲了个字母之类的导致脚本出错，请重新粘贴一遍脚本。

4. 如果还是不行，请从浏览器右上角菜单-》更多工具-》开发者工具-》console 里找一下有什么出错信息。也许和别的插件或脚本冲突了。  

![T2](imgs/troubleshooting2.png)

后续考虑改造成浏览器插件。现阶段还是以满足自己及朋友的功能需要为主。如有从实际使用场景出发的功能，欢迎提出来。  


